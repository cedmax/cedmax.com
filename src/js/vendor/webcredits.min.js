!function(){function e(e){return Array.prototype.slice.call(e)}var t={},n={},i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();n.creditsEl=null,n.curTopPosition=0,n.creditsSize=0,n.paused=!1,n.externalSource=!1,n.loadedImages=0,n.imagesToLoad=0,n.getFile=function(e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t.init(n.responseText,!0)},n.send()},n.animate=function(){return-1*n.curTopPosition>n.creditsSize?void setTimeout(function(){n.creditsEl.style.opacity=0,n.creditsContentEl.style.opacity=0,setTimeout(function(){n.creditsEl.parentNode.removeChild(n.creditsEl),n.creditsEl=!1;try{t.onend()}catch(e){console.error("Failed executing onend listener",e.message,e)}},1e3)},1e3):void(n.paused||(n.creditsContentEl.style.top=--n.curTopPosition+"px",i(n.animate)))},n.adjustFontSize=function(e){var t=e.textContent.length,n=e.offsetWidth,i=100,o=parseInt(window.getComputedStyle(e,null).getPropertyValue("font-size"),10);return letter=n/o,i=100/t*(5*o),i+"%"},n.initAnimation=function(){var i=document.querySelector(".credits__title"),o=document.documentElement.clientHeight;i.style.height=o+"px",i.style.fontSize=n.adjustFontSize(i),n.creditsEl.style.opacity=1,n.creditsContentEl.style.opacity=1;var r=e(document.querySelectorAll(".full-screen"));r.forEach(function(e){e.style.height=o+"px"}),n.creditsSize=n.creditsContentEl.offsetHeight-o;try{t.onstart()}catch(s){console.error("Failed executing onstart listener",s.message,s)}setTimeout(function(){n.animate()},1200)},t.init=function(t,i){return n.creditsEl&&!i?!1:(n.creditsEl=document.createElement("div"),n.creditsEl.id="webcredits-container","."==t[0]||"/"==t[0]?(n.externalSource=!0,n.getFile(t)):(n.curTopPosition=0,document.body.appendChild(n.creditsEl),n.creditsEl.innerHTML="<div id='webcredits-content'>"+t+"</div>",e(n.creditsEl.getElementsByTagName("img")).forEach(function(e){e.onload=e.onerror=function(){n.loadedImages++,n.imagesToLoad==n.loadedImages&&n.initAnimation()},e.src=e.src,n.imagesToLoad++}),n.creditsContentEl=document.getElementById("webcredits-content"),n.creditsContentEl.style.top="0px",void(0===n.imagesToLoad&&n.initAnimation())))},t.cancel=function(){},t.pause=function(){n.paused=!0},t.release=function(){n.paused=!1,n.animate()},window.webCredits=t}();